---
import { DOMAIN_NAME } from "@constants/static_paths";
import { Picture } from "astro:assets";

interface Props {
    aosDelay: Number;
    name: String;
    id: String;
    image: ImageMetadata;
}

const { aosDelay, name, id, image } = Astro.props;
---

<article
    data-aos="fade-right"
    data-aos-delay={aosDelay}
    data-aos-anchor="#product-list"
    aria-labelledby={`product-${id}`}
>
    <a
        href={`${DOMAIN_NAME}/producto/${id}`}
        aria-describedby={`product-description-${id}`}
    >
        <Picture
            loading="lazy"
            src={image}
            formats={["avif", "webp", "jpeg"]}
            alt={`Jacuzzi ${name} | Fresh Jacuzzis`}
            widths={[150, 300, 600]}
            sizes="(max-width: 600px) 150px, (max-width: 1200px) 300px, 600px"
            transition:name={`jacuzzi-${id}-img`}
        />
        <p id={`product-description-${id}`} transition:name={`jacuzzi-${id}-title`}>Jacuzzi {name}</p>
    </a>
</article>

<style>
    article {
        position: relative;
        scroll-snap-align: center;
        width: 300px;
        height: 500px;
    }
    p {
        position: absolute;
        bottom: 0;
        right: 0;
        left: 0;
        padding: 2rem 0;
        background-color: #00000044;
        color: white;
        font-weight: bold;
    }
    img {
        height: 100%;
        width: 100%;
        min-width: 300px;
        object-fit: cover;
        display: block;
    }
</style>
