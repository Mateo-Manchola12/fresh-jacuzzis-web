---
import { Image } from "astro:assets"

const workers = [
    {
        name: "Andrés Yanguas",
        post: "Director General",
        anchor: true,
    },
    {
        name: "Eliana Ramirez",
        post: "Directora comercial",
    },
    {
        name: "Mariana Yanguas",
        post: "community manager",
    },
    {
        name: "Adrian Ocampo",
        post: "coordinador de producción",
    },
    {
        name: "Carlos Tangarife",
        post: "Coordinador de terminación y calidad",
    },
    {
        name: "Ramón Ocampo",
        post: "auxiliar de producción",
    },
    {
        name: "Alejandro Londoño",
        post: "asesor técnico y auxiliar de producción",
    },
    {
        name: "Sebastián Piedrahita",
        post: "Auxiliar general",
    },
]

const images = import.meta.glob<{ default: ImageMetadata }>(
    "/src/assets/workers/*.{jpeg,jpg,png,gif}",
)
---

<section>
    <h2>Conoce a nuestro equipo</h2>
    <article class="team-cards">
        {
            workers.map(({ name, post, anchor }, index) => (
                <div
                    class="card"
                    data-aos="fade-right"
                    data-aos-delay={200 * index}
                    data-aos-anchor="#teamMembers"
                    id={anchor ? "teamMembers" : ""}
                >
                    {images[`/src/assets/workers/${name}.jpeg`] ? (
                        <Image
                            alt={`Foto de ${name}`}
                            width="100"
                            src={images[`/src/assets/workers/${name}.jpeg`]()}
                        />
                    ) : (
                        <img src="https://placehold.co/100" alt="" />
                    )}
                    <div class="card-content">
                        <h3>{name}</h3>
                        <span>{post}</span>
                    </div>
                </div>
            ))
        }
    </article>
</section>

<style>
    h2 {
        margin-bottom: 2rem;
    }
    .team-cards {
        display: flex;
        justify-content: center;
        gap: 20px;
        flex-wrap: wrap;
        text-transform: capitalize;
        max-width: 1060px;
        margin: 0 auto;
    }
    .card {
        width: 250px;
        text-align: center;
        background: white;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    .card img {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        object-fit: cover;
        margin-bottom: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        border: 2px solid var(--secondary-light);
    }
</style>
